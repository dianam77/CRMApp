@model CRMApp.ViewModels.CompanyCreateViewModel

<h2>ثبت شرکت جدید</h2>

<form method="post" asp-action="Create">
    @Html.AntiForgeryToken()

    <div>
        <label>نام شرکت:</label>
        <input asp-for="CompanyName" required />
    </div>

    <div>
        <label>کد اقتصادی:</label>
        <input asp-for="EconomicCode" />
    </div>

    <div>
        <label>شناسه ملی:</label>
        <input asp-for="NationalId" />
    </div>

    <div>
        <label>شماره ثبت:</label>
        <input asp-for="RegisterNumber" />
    </div>

    <div>
        <label>تاریخ تأسیس:</label>
        <input asp-for="EstablishmentDate" type="date" />
    </div>

    <div>
        <label>حوزه فعالیت:</label>
        <input asp-for="IndustryField" />
    </div>

    <div>
        <label>وبسایت:</label>
        <input asp-for="Website" />
    </div>

    <div>
        <label>مشتری حقیقی:</label>
        <select asp-for="SelectedIndividualCustomerId" asp-items="@(new SelectList(Model.IndividualCustomers, "CustomerId", "FullName"))">
            <option value="">انتخاب کنید</option>
        </select>
    </div>

    <div>
        <label>نوع رابطه:</label>
        <input asp-for="RelationType" />
    </div>

    <div>
        <label>تاریخ شروع رابطه:</label>
        <input asp-for="RelationStartDate" type="date" />
    </div>

    <div>
        <label>توضیحات رابطه:</label>
        <textarea asp-for="RelationDescription"></textarea>
    </div>

    <h3>ایمیل‌ها</h3>
    <table>
        <thead><tr><th>ایمیل</th><th>نوع</th><th>اصلی</th></tr></thead>
        <tbody>
            @for (int i = 0; i < Model.Emails.Count; i++)
            {
                <tr>
                    <td><input asp-for="Emails[@i].EmailAddress" /></td>
                    <td><input asp-for="Emails[@i].EmailType" /></td>
                    <td><input asp-for="Emails[@i].IsPrimary" type="checkbox" /></td>
                </tr>
            }
        </tbody>
    </table>

    <h3>تلفن‌ها</h3>
    <table>
        <thead><tr><th>شماره</th><th>نوع</th><th>داخلی</th></tr></thead>
        <tbody>
            @for (int i = 0; i < Model.ContactPhones.Count; i++)
            {
                <tr>
                    <td><input asp-for="ContactPhones[@i].PhoneNumber" /></td>
                    <td><input asp-for="ContactPhones[@i].PhoneType" /></td>
                    <td><input asp-for="ContactPhones[@i].Extension" /></td>
                </tr>
            }
        </tbody>
    </table>

    <h3>آدرس‌ها</h3>
    <table>
        <thead><tr><th>آدرس</th><th>شهر</th><th>استان</th><th>کدپستی</th><th>نوع</th></tr></thead>
        <tbody>
            @for (int i = 0; i < Model.Addresses.Count; i++)
            {
                <tr>
                    <td><input asp-for="Addresses[@i].FullAddress" /></td>
                    <td><input asp-for="Addresses[@i].City" /></td>
                    <td><input asp-for="Addresses[@i].Province" /></td>
                    <td><input asp-for="Addresses[@i].PostalCode" /></td>
                    <td><input asp-for="Addresses[@i].AddressType" /></td>
                </tr>
            }
        </tbody>
    </table>

    <button type="submit">ثبت شرکت</button>
</form>
